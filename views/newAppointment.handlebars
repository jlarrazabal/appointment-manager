<form action="/appointment/date" method="get" class="form signup-form">
        <div class="form-group form-floating mb-3 col-3">
          <div> Please select a date for your appointment:</div>
          <br>
          <input name="app_date" class="form-input form-control col-6" type ="text" id ="datepicker-4" />
          <button class="btn btn-primary" type="submit" id="app-date-btn">Check availability</button>
        </div>
</form>

{{#if showOptions}}

<form action="/api/appointment/create" method="post">
<label for="date">Appointment Date</label>
<input tyep="date" name="app_date" value={{date}} id="date">

<div id="services" class="dropdown">
 <label for="service">Please select a service</label>
  <select name="service" id="service">
  {{#each services.services as |service|}}
  <option id="service" value="{{service.name}}" >{{service.name}}</option>
  {{/each}}
  </select>
</div>

<div class="dropdown" id="selected-hour">
  <label for="service">Please select a time</label>
  <select id="app_hour" name="app_hour">
  {{#if availability.h08}}
    {{else}}
    <option value=8 >8:00 am</option>
  {{/if}}

  {{#if availability.h10}}
    {{else}}
    <option value=10 >10:00 am</option>
  {{/if}}

  {{#if availability.h12}}
    {{else}}
    <option value=12 >12:00 pm</option>
  {{/if}}

  {{#if availability.h14}}
    {{else}}
    <option value=14 >2:00 pm</option>
  {{/if}}

  {{#if availability.h16}}
    {{else}}
    <option value=16 >4:00 pm</option>
  {{/if}}

  {{#if availability.h18}}
    {{else}}
    <option value=18 >6:00 pm</option>
  {{/if}}

  {{#if availability.h20}}
    {{else}}
    <option value=20 >8:00 pm</option>
  {{/if}}
 </select>
</div>

{{else}}
{{/if}}

<button class="btn btn-primary" type="submit" name="button">Book Appointment</button>

</form>

 <script>
        $(function() {
           $( "#datepicker-4" ).datepicker({
              dateFormat:"yy-mm-dd",
              dateField: "#datepicker-4",
              beforeShowDay : function (date) {
                 var dayOfWeek = date.getDay ();
                 // 0 : Sunday, 1 : Monday, ...
                 if (dayOfWeek == 0 || dayOfWeek == 6) return [false];
                 else return [true];
                }
              });
            });
</script>

{{#if logged_in}}
    <script type="text/javascript">
      if (window.location.pathname === "/api/users/login" || window.location.pathname === "/api/users/signup") {
        location.replace("/");
      }
    </script>
  {{/if}}

<!-- <script src="/js/newAppoiment.js"></script> -->
